{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"6.0062ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"561.8µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"1.1918ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"613.4µs"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"18.5348ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"error","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"0s"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"3.2163ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"627.9µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"2.0267ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"0s"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"14.7927ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"error","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"0s"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"4.9702ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"552.5µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"2.2317ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"545.6µs"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"14.0613ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"tasks collection 创建成功!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"3.8562ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"0s"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"5.0631ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"513.8µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"1.3281ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"536µs"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"13.8191ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"4.9795ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"5.7037ms"}
{"level":"info","message":"started"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"销毁mongo-taskresult持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"379.6µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"销毁mongo-task持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"533.8µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client关闭"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"2.8933ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"Stopping HTTP server!"}
{"level":"info","message":"HTTP server 停止!"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"532.4µs"}
{"level":"info","message":"context 取消!"}
{"level":"info","message":"关闭任务通道"}
{"level":"info","message":"关闭任务结果通道"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"0s"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"销毁task服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"535.5µs"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"7.0982ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"728.4µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"591.7µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"0s"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"15.6236ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"4.2918ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"3.6542ms"}
{"level":"info","message":"started"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"6.5279ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"0s"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"3.2231ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"607.1µs"}
{"level":"info","message":"Starting HTTP server!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"14.6332ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"3.6362ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"3.353ms"}
{"level":"info","message":"started"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"销毁mongo-taskresult持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"841.1µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"销毁mongo-task持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"625.3µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client关闭"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"7.915ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"Stopping HTTP server!"}
{"level":"info","message":"HTTP server 停止!"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"3.2582ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"context 取消!"}
{"level":"info","message":"关闭任务通道"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"0s"}
{"level":"info","message":"关闭任务结果通道"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"销毁task服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"1.2235ms"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"3.2286ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"532.1µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"533.7µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"1.0498ms"}
{"level":"info","message":"HTTP server 启动!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"13.691ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"3.5534ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"3.7904ms"}
{"level":"info","message":"started"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"销毁mongo-taskresult持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"0s"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"销毁mongo-task持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"555.7µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client关闭"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"3.4725ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"Stopping HTTP server!"}
{"level":"info","message":"HTTP server 停止!"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"1.1726ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"0s"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"销毁task服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"549.1µs"}
{"level":"info","message":"logger construction succeeded"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/handler.NewTaskHandler(), fx.ResultTags([\"group:\\\"handlers\\\"\"]), fx.As([[http.Route]])","type":"http.Route[group = \"handlers\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/http/middleware.NewLogMiddleware(), fx.ResultTags([\"group:\\\"middlewares\\\"\"]), fx.As([[http.Middleware]])","type":"http.Middleware[group = \"middlewares\"]"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewLogger()","type":"*zap.Logger"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.Context"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewContext()","type":"context.CancelFunc"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func1(), fx.ResultTags([\"name:\\\"configPath\\\"\"])","type":"string[name = \"configPath\"]"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig(), fx.ParamTags([\"\" \"name:\\\"configPath\\\"\"])","type":"*conf.Config"}
{"level":"info","message":"provided","constructor":"fx.Annotate(github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter(), fx.ParamTags([\"group:\\\"middlewares\\\"\" \"group:\\\"handlers\\\"\"])","type":"*mux.Router"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer()","type":"*http.Server"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/srv.NewTask()","type":"srv.TaskSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv()","type":"mongo.MongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv()","type":"logic.TaskMongoSrv"}
{"level":"info","message":"provided","constructor":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv()","type":"logic.TaskResultMongoSrv"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.New.func1()","type":"fx.Lifecycle"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).shutdowner-fm()","type":"fx.Shutdowner"}
{"level":"info","message":"provided","constructor":"go.uber.org/fx.(*App).dotGraph-fm()","type":"fx.DotGraph"}
{"level":"info","message":"initialized custom fxevent.Logger","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func2()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func3()"}
{"level":"info","message":"Executing NewMux."}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.(*FxSrv).Setup.func4()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func1()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func2()"}
{"level":"info","message":"初始化workerpools"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func3()"}
{"level":"info","message":"invoking","function":"github.com/luoruofeng/Naval/fx_opt.glob..func4()"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide.NewConfig","runtime":"5.1321ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"启动task服务"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func1()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"508.6µs"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"Starting bind handler!"}
{"level":"info","message":"Starting bind middleware!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"2.0191ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func1()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"553.2µs"}
{"level":"info","message":"HTTP server 启动!","addr":"0.0.0.0:8080"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client启动"}
{"level":"info","message":"已经成功连接MongoDB!"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"14.4323ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"启动mongo-task持久化服务"}
{"level":"info","message":"创建collection：tasks失败","error":"(NamespaceExists) Collection already exists. NS: naval.tasks"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"3.9593ms"}
{"level":"info","message":"OnStart hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"启动mongo-taskresult持久化服务"}
{"level":"error","message":"创建collection：TaskResults失败","error":"(NamespaceExists) Collection already exists. NS: naval.TaskResults"}
{"level":"info","message":"OnStart hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func1()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"3.2016ms"}
{"level":"info","message":"started"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv"}
{"level":"info","message":"销毁mongo-taskresult持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskResultMongoSrv","runtime":"794.1µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv"}
{"level":"info","message":"销毁mongo-task持久化服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo/logic.NewTaskMongoSrv","runtime":"685.6µs"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv"}
{"level":"info","message":"mongo client关闭"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv.func2()","caller":"github.com/luoruofeng/Naval/component/mongo.NewMongoSrv","runtime":"6.4059ms"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer"}
{"level":"info","message":"Stopping HTTP server!"}
{"level":"info","message":"HTTP server 停止!"}
{"level":"info","message":"context 取消!"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPServer","runtime":"1.8666ms"}
{"level":"info","message":"关闭任务通道"}
{"level":"info","message":"关闭任务结果通道"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter.func2()","caller":"github.com/luoruofeng/Naval/fx_opt/component/provide/http.NewHTTPRouter","runtime":"0s"}
{"level":"info","message":"OnStop hook executing","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask"}
{"level":"info","message":"销毁task服务"}
{"level":"info","message":"OnStop hook executed","callee":"github.com/luoruofeng/Naval/srv.NewTask.func2()","caller":"github.com/luoruofeng/Naval/srv.NewTask","runtime":"140.8µs"}
